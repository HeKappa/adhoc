{"ast":null,"code":"// frontend/src/pages/TradeHistory.js\nimport React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TradeHistory(){const username=localStorage.getItem('username');const[trades,setTrades]=useState([]);useEffect(()=>{fetchTrades();},[]);const fetchTrades=async()=>{const res=await axios.get('http://localhost:5000/api/trades');const userTrades=res.data.filter(trade=>trade.offerBy===username||trade.acceptedBy===username);setTrades(userTrades);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl mb-4\",children:\"Trade History\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"w-full table-auto\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-300\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2\",children:\"Offer By\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2\",children:\"Accepted By\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2\",children:\"Product Offered\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2\",children:\"Product Gotten\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-2\",children:\"Date\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:trades.map(trade=>/*#__PURE__*/_jsxs(\"tr\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"border px-4 py-2\",children:trade.offerBy}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-4 py-2\",children:trade.acceptedBy}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-4 py-2\",children:trade.productOffered}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-4 py-2\",children:trade.productGotten}),/*#__PURE__*/_jsx(\"td\",{className:\"border px-4 py-2\",children:new Date(trade.dateCreated).toLocaleString()})]},trade._id))})]})]});}export default TradeHistory;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","TradeHistory","username","localStorage","getItem","trades","setTrades","fetchTrades","res","get","userTrades","data","filter","trade","offerBy","acceptedBy","children","className","map","productOffered","productGotten","Date","dateCreated","toLocaleString","_id"],"sources":["C:/Users/critis1/Desktop/Projects/ad_hoc/adhoc_final/frontend/src/pages/TradeHistory.js"],"sourcesContent":["// frontend/src/pages/TradeHistory.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction TradeHistory() {\r\n  const username = localStorage.getItem('username');\r\n  const [trades, setTrades] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchTrades();\r\n  }, []);\r\n\r\n  const fetchTrades = async () => {\r\n    const res = await axios.get('http://localhost:5000/api/trades');\r\n    const userTrades = res.data.filter(trade => trade.offerBy === username || trade.acceptedBy === username);\r\n    setTrades(userTrades);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-xl mb-4\">Trade History</h2>\r\n      <table className=\"w-full table-auto\">\r\n        <thead>\r\n          <tr className=\"bg-gray-300\">\r\n            <th className=\"px-4 py-2\">Offer By</th>\r\n            <th className=\"px-4 py-2\">Accepted By</th>\r\n            <th className=\"px-4 py-2\">Product Offered</th>\r\n            <th className=\"px-4 py-2\">Product Gotten</th>\r\n            <th className=\"px-4 py-2\">Date</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {trades.map(trade => (\r\n            <tr key={trade._id} className=\"text-center\">\r\n              <td className=\"border px-4 py-2\">{trade.offerBy}</td>\r\n              <td className=\"border px-4 py-2\">{trade.acceptedBy}</td>\r\n              <td className=\"border px-4 py-2\">{trade.productOffered}</td>\r\n              <td className=\"border px-4 py-2\">{trade.productGotten}</td>\r\n              <td className=\"border px-4 py-2\">{new Date(trade.dateCreated).toLocaleString()}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TradeHistory;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,YAAYA,CAAA,CAAG,CACtB,KAAM,CAAAC,QAAQ,CAAGC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CACjD,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CAExCC,SAAS,CAAC,IAAM,CACdY,WAAW,CAAC,CAAC,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAZ,KAAK,CAACa,GAAG,CAAC,kCAAkC,CAAC,CAC/D,KAAM,CAAAC,UAAU,CAAGF,GAAG,CAACG,IAAI,CAACC,MAAM,CAACC,KAAK,EAAIA,KAAK,CAACC,OAAO,GAAKZ,QAAQ,EAAIW,KAAK,CAACE,UAAU,GAAKb,QAAQ,CAAC,CACxGI,SAAS,CAACI,UAAU,CAAC,CACvB,CAAC,CAED,mBACEV,KAAA,QAAAgB,QAAA,eACElB,IAAA,OAAImB,SAAS,CAAC,cAAc,CAAAD,QAAA,CAAC,eAAa,CAAI,CAAC,cAC/ChB,KAAA,UAAOiB,SAAS,CAAC,mBAAmB,CAAAD,QAAA,eAClClB,IAAA,UAAAkB,QAAA,cACEhB,KAAA,OAAIiB,SAAS,CAAC,aAAa,CAAAD,QAAA,eACzBlB,IAAA,OAAImB,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAC,UAAQ,CAAI,CAAC,cACvClB,IAAA,OAAImB,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAC,aAAW,CAAI,CAAC,cAC1ClB,IAAA,OAAImB,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAC,iBAAe,CAAI,CAAC,cAC9ClB,IAAA,OAAImB,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAC,gBAAc,CAAI,CAAC,cAC7ClB,IAAA,OAAImB,SAAS,CAAC,WAAW,CAAAD,QAAA,CAAC,MAAI,CAAI,CAAC,EACjC,CAAC,CACA,CAAC,cACRlB,IAAA,UAAAkB,QAAA,CACGX,MAAM,CAACa,GAAG,CAACL,KAAK,eACfb,KAAA,OAAoBiB,SAAS,CAAC,aAAa,CAAAD,QAAA,eACzClB,IAAA,OAAImB,SAAS,CAAC,kBAAkB,CAAAD,QAAA,CAAEH,KAAK,CAACC,OAAO,CAAK,CAAC,cACrDhB,IAAA,OAAImB,SAAS,CAAC,kBAAkB,CAAAD,QAAA,CAAEH,KAAK,CAACE,UAAU,CAAK,CAAC,cACxDjB,IAAA,OAAImB,SAAS,CAAC,kBAAkB,CAAAD,QAAA,CAAEH,KAAK,CAACM,cAAc,CAAK,CAAC,cAC5DrB,IAAA,OAAImB,SAAS,CAAC,kBAAkB,CAAAD,QAAA,CAAEH,KAAK,CAACO,aAAa,CAAK,CAAC,cAC3DtB,IAAA,OAAImB,SAAS,CAAC,kBAAkB,CAAAD,QAAA,CAAE,GAAI,CAAAK,IAAI,CAACR,KAAK,CAACS,WAAW,CAAC,CAACC,cAAc,CAAC,CAAC,CAAK,CAAC,GAL7EV,KAAK,CAACW,GAMX,CACL,CAAC,CACG,CAAC,EACH,CAAC,EACL,CAAC,CAEV,CAEA,cAAe,CAAAvB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}